<!DOCTYPE html>
<html lang="ja">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no, viewport-fit=cover">
    <title>My Dashboard</title>
    <meta name="robots" content="noindex,nofollow">
    
    <meta name="apple-mobile-web-app-capable" content="yes">
    <meta name="apple-mobile-web-app-status-bar-style" content="black-translucent">
    <meta name="apple-mobile-web-app-title" content="My Dashboard">
    <link rel="apple-touch-icon" href="icon.png">

    <link rel="stylesheet" href="style.css">
</head>
<body>

    <div class="header">
        <div id="date">0000/00/00 (---)</div>
        <div id="clock">00:00:00</div>
    </div>

    <div id="home" class="page-content active">
        <div class="section today-highlight">
            <h2 id="home-title">📌 今日の予定</h2> <div id="today-event-text">予定はありません</div>
        </div>

    <div class="section">
    <div style="display: flex; align-items: center; gap: 10px; margin-bottom: 10px;">
        <h2 id="link-section-title" style="margin: 0;">クイックリンク</h2>
        
        <button onclick="openLinkEditor()" style="background: rgba(255,255,255,0.1); border: 1px solid #444; color: white; padding: 2px 10px; border-radius: 12px; font-size: 0.7rem; cursor: pointer;">
            編集
        </button>
    </div>

    <div id="link-grid-container" class="link-grid">
        </div>
</div>





        <div style="text-align: center; padding: 10px 0 30px 0;">
            <button onclick="openLinkEditor()" style="background: none; border: 1px solid #444; color: #666; font-size: 0.7rem; padding: 5px 15px; border-radius: 15px;">⚙️ リンクを管理</button>
        </div>

        <div class="section">
            <h2>✅ ToDo・コレクション</h2>
            <div id="todo-category-bar" style="display: flex; gap: 5px; overflow-x: auto; margin-bottom: 12px; padding-bottom: 5px;"></div>
            
            <div style="display: flex; gap: 5px; margin-bottom: 12px;">
                <input type="text" id="todo-input" placeholder="新しい項目を追加..." style="flex: 1; background: #3d3d3d; border: 1px solid var(--accent); color: white; border-radius: 10px; padding: 10px; outline: none;">
                <button onclick="addTodoItem()" class="nav-btn" style="border-radius: 10px; padding: 0 15px;">＋</button>
            </div>

            <div class="filter-bar" style="display: flex; gap: 5px; margin-bottom: 12px;">
                <button onclick="setTodoFilter('all')" class="filter-btn active" id="f-all">全部</button>
                <button onclick="setTodoFilter('active')" class="filter-btn" id="f-active">未達成</button>
                <button onclick="setTodoFilter('completed')" class="filter-btn" id="f-completed">達成済</button>
            </div>

            <div id="todo-list-container"></div>
            <button onclick="createTodoCategory()" style="margin-top:15px; font-size: 0.8rem; background: none; border: 1px dashed var(--accent); color: var(--accent); width: 100%; padding: 8px; border-radius: 10px;">＋ カテゴリーを増やす</button>
        </div>
    </div>

    <div id="notes-all" class="page-content">
        <div class="section">
           <h2>🗒️ メモ</h2>
           <textarea id="daily-memo" oninput="saveDailyMemo()" placeholder="ちょっとしたメモに..." style="height: 100px;"></textarea>
        </div>
        <div class="section">
            <h2>📌 付箋</h2>
            <div style="display: flex; gap: 10px; margin-bottom: 10px;">
                <input type="color" id="note-color" value="#00adb5" style="width: 50px; height: 38px; border: none; background: none;">
                <button onclick="addStickyNote()" class="nav-btn" style="flex: 1;">付箋を追加</button>
            </div>
            <div id="sticky-container" style="display: flex; flex-wrap: wrap; gap: 10px;"></div>
        </div>
        <div class="section">
            <h2>📝 ネタ帳</h2>
            <div id="tab-bar" style="display: flex; overflow-x: auto; margin-bottom: 10px; padding-bottom: 5px;"></div>
            <textarea id="idea-note" oninput="saveCurrentIdea()" placeholder="ここに書き込みます..." style="height: 150px;"></textarea>
            <button onclick="createNewPage()" class="nav-btn" style="margin-top: 8px; width: 100%;">＋ 新しいページ</button>
        </div>
    </div>

    <div id="calendar" class="page-content">
        <div class="section">
            <div class="calendar-header">
                <button class="nav-btn" onclick="changeMonth(-1)">◀</button>
                <h2 id="calendar-month">2026年 2月</h2>
                <button class="nav-btn" onclick="changeMonth(1)">▶</button>
            </div>
            <table class="calendar-table">
                <thead><tr><th>日</th><th>月</th><th>火</th><th>水</th><th>木</th><th>金</th><th>土</th></tr></thead>
                <tbody id="calendar-body"></tbody>
            </table>
            <span id="selected-date-label">日付を選択してください</span>
            <textarea id="event-input" rows="3" placeholder="予定をメモ..." oninput="saveEvent()"></textarea>
        </div>
    </div>

    <div id="timetable" class="page-content">
        <div class="section">
            <h2>🕒 時間割</h2>
            <div id="semester-tabs" style="display: flex; gap: 8px; overflow-x: auto; padding-bottom: 10px; margin-bottom: 10px;"></div>
            <p style="font-size: 0.65rem; color: var(--accent); margin-bottom: 5px; text-align: right;">⇄ 横にスクロールできます</p>
            <div class="timetable-scroll-wrapper">
                <table class="timetable-table">
                    <thead>
                        <tr><th></th><th>月</th><th>火</th><th>水</th><th>木</th><th>金</th></tr>
                    </thead>
                    <tbody id="timetable-body"></tbody>
                </table>
            </div>
        </div>
    </div>

    <div id="link-editor-modal" style="display:none; position:fixed; top:0; left:0; width:100%; height:100%; background:rgba(0,0,0,0.9); z-index:2000; overflow-y:auto; padding:20px; box-sizing:border-box;">
        <div style="max-width:500px; margin:auto; padding-bottom: 100px;">
            <div style="display:flex; justify-content:space-between; align-items:center; margin-bottom: 20px;">
                <h2 id="editor-title" style="margin:0;">🔗 リンク編集</h2>
                <div>
                    <button onclick="toggleUraMode()" style="background:none; border:none; color:#222; margin-right: 15px;">●</button>
                    <button onclick="closeLinkEditor()" style="background:none; border:none; color:white; font-size:1.5rem;">×</button>
                </div>
            </div>
            
            <div style="background:#222; padding:15px; border-radius:10px; margin-bottom:20px; border: 1px solid #333;">
                <input type="text" id="new-link-name" placeholder="サイト名" style="width:100%; margin-bottom:10px; padding:12px; border-radius:8px; border:none; background:#333; color:white; box-sizing:border-box;">
                <input type="text" id="new-link-url" placeholder="URL (https://...)" style="width:100%; margin-bottom:10px; padding:12px; border-radius:8px; border:none; background:#333; color:white; box-sizing:border-box;">
                <button onclick="addLink()" style="width:100%; background:var(--accent); color:white; border:none; padding:12px; border-radius:8px; font-weight:bold;">＋ リンクを追加</button>
            </div>

            <div id="editor-link-list">
                </div>
        </div>
    </div>

    <div class="tab-menu">
        <button onclick="showPage('home')">🏠<br>ホーム</button>
        <button onclick="showPage('timetable')">🕒<br>時間割</button>
        <button onclick="showPage('notes-all')">📒<br>ノート</button> 
        <button onclick="showPage('calendar')">📅<br>予定表</button>
    </div>

    <script src="script.js" defer></script>
</body>
</html>
